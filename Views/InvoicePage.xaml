<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="App_3.Views.InvoicePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:model ="using:App_3.Models">

    <Grid Background="#F3F4F6">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ================= MAIN CONTENT ================= -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Padding="24" Spacing="24">

                <!-- ================= HEADER ================= -->
                <Grid VerticalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel>
                        <TextBlock Text="Invoice"
                                   FontSize="30"
                                   FontWeight="Bold"
                                   Foreground="#0F172A"/>
                        <TextBlock Text="Generate, manage &amp; track your invoices easily"
                                   FontSize="13"
                                   Foreground="#64748B"
                                   Margin="0,6,0,0"/>
                    </StackPanel>

                    <Border Grid.Column="1"
                            Background="#ECFDF5"
                            CornerRadius="14"
                            Padding="18,12"
                            VerticalAlignment="Center">
                        <TextBlock x:Name="GrandTotalText"
                                   Text="â‚¹ 0"
                                   FontSize="26"
                                   FontWeight="Bold"
                                   Foreground="#047857"/>
                    </Border>
                </Grid>

                <!-- ================= INVOICE INFO ================= -->
                <Border Background="White"
                        CornerRadius="16"
                        Padding="24"
                        Margin="0,0,0,0">
                    <Grid ColumnSpacing="20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1.2*"/>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1.3*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Invoice No -->
                        <StackPanel>
                            <TextBlock Text="Invoice No"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="#0F172A"
                                       Margin="0,0,0,6"/>
                            <TextBox x:Name="InvoiceNoBox"
                                     IsReadOnly="True"
                                     Height="40"
                                     FontSize="14"
                                     Padding="6"/>
                        </StackPanel>

                        <!-- Invoice Date -->
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Invoice Date"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="#0F172A"
                                       Margin="0,0,0,6"/>
                            <DatePicker x:Name="InvoiceDatePicker"
                                        Height="40"/>
                        </StackPanel>

                        <!-- Customer -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Customer"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="#0F172A"
                                       Margin="0,0,0,6"/>
                            <ComboBox Height="40"
                                      FontSize="14"
                                      Padding="4"/>
                        </StackPanel>

                        <!-- Mobile -->
                        <StackPanel Grid.Column="3">
                            <TextBlock Text="Mobile"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="#0F172A"
                                       Margin="0,0,0,6"/>
                            <TextBox Height="40"
                                     FontSize="14"
                                     Padding="6"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ================= ADD ITEM ================= -->
                <Border Background="White"
                        CornerRadius="16"
                        Padding="20">
                    <Grid ColumnSpacing="14" VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <ComboBox x:Name="ItemSelect"
          PlaceholderText="Select Item"
          Height="40">
                            <ComboBoxItem Content="Electronics"/>
                            <ComboBoxItem Content="Furnitures"/>
                            <ComboBoxItem Content="Products"/>
                        </ComboBox>


                        <NumberBox x:Name="QtyBox"
                                   Header="Qty"
                                   Value="1"
                                   Grid.Column="1"/>

                        <NumberBox x:Name="PriceBox"
                                   Header="Price"
                                   Grid.Column="2"/>

                        <Button Content="Add"
                                Grid.Column="3"
                                Width="100"
                                Height="40"
                                Background="#2563EB"
                                Foreground="White"
                                CornerRadius="10"
                                Click="AddItem_Click"/>
                    </Grid>
                </Border>

                <!-- ================= ITEMS TABLE ================= -->
                <Border Background="White"
                        CornerRadius="16"
                        Padding="20">
                    <StackPanel Spacing="12">

                        <StackPanel>
                            <TextBlock Text="Items"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="#0F172A"/>
                            <TextBlock Text="Manage your invoice items and quantities"
                                       FontSize="13"
                                       Foreground="#64748B"
                                       Margin="0,4,0,0"/>
                        </StackPanel>

                        <!-- Table Header -->
                        <Grid Background="#F3F4F6" ColumnSpacing="12" Padding="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="3*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="Item" FontWeight="Bold"/>
                            <TextBlock Text="Qty" Grid.Column="1" FontWeight="Bold"/>
                            <TextBlock Text="Price" Grid.Column="2" FontWeight="Bold"/>
                            <TextBlock Text="Total" Grid.Column="3" FontWeight="Bold"/>
                            <TextBlock Text="Remove" Grid.Column="4" FontWeight="Bold"/>
                        </Grid>

                        <Border Height="1" Background="#E5E7EB"/>

                        <ListView x:Name="InvoiceItemsList"
                                  Height="220"
                                  Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>

                <!-- ================= SUMMARY + PAYMENT ================= -->
                <Grid ColumnSpacing="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- SUMMARY -->
                    <Border Background="White"
                            CornerRadius="16"
                            Padding="20">
                        <StackPanel Spacing="12">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Subtotal" VerticalAlignment="Center"/>
                                <TextBlock x:Name="SubTotalText"
                                           Grid.Column="1"
                                           Text="â‚¹ 0"
                                           VerticalAlignment="Center"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Discount" VerticalAlignment="Center"/>
                                <TextBlock x:Name="DiscountText"
                                           Grid.Column="1"
                                           Text="â‚¹ 0"
                                           VerticalAlignment="Center"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Tax" VerticalAlignment="Center"/>
                                <TextBlock x:Name="TaxText"
                                           Grid.Column="1"
                                           Text="â‚¹ 0"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- PAYMENT -->
                    <Border Grid.Column="1"
        Background="White"
        CornerRadius="16"
        Padding="20">

                        <StackPanel Spacing="12">

                            <ComboBox Header="Payment Mode">
                                <ComboBoxItem Content="Cash"/>
                                <ComboBoxItem Content="UPI"/>
                                <ComboBoxItem Content="Card"/>
                            </ComboBox>

                            <!-- âœ… Paid Amount -->
                            <NumberBox x:Name="PaidAmountBox"
                   Header="Paid Amount"
                   PlaceholderText="Enter paid amount"
                   Value="0"
                   SpinButtonPlacementMode="Hidden"/>

                            <!-- âœ… Due Amount -->
                            <StackPanel Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Spacing="6">
                                <TextBlock Text="DUE:"
                       FontWeight="SemiBold"
                       Foreground="#991B1B"/>
                                <TextBlock x:Name="DueAmountText"
                       Text="â‚¹ 0"
                       FontWeight="Bold"
                       Foreground="#DC2626"/>
                            </StackPanel>

                        </StackPanel>
                    </Border>

                </Grid>

            </StackPanel>
        </ScrollViewer>

        <!-- ================= ACTION BAR ================= -->
        <Border Grid.Row="1"
                Background="White"
                Padding="14"
                BorderThickness="1"
                BorderBrush="#E5E7EB">
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Spacing="12">

                <Button Content="ðŸ–¨ Print Preview"
                        Height="40"
                        Padding="16,0"/>

                <Button Content="ðŸ“„ Export PDF"
                        Height="40"
                        Padding="16,0"/>

                <Button Content="ðŸ“¤ Share WhatsApp"
                        Height="40"
                        Background="#16A34A"
                        Foreground="White"
                        Padding="18,0"
                        CornerRadius="10"/>

                <Button Content="Save Invoice"
                        Height="40"
                        Background="#2563EB"
                        Foreground="White"
                        Padding="18,0"
                        CornerRadius="10"/>
            </StackPanel>
        </Border>

    </Grid>
</Page>
