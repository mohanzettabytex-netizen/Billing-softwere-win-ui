<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="App_3.Views.InvoicePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Background="#F3F4F6">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ================= MAIN CONTENT ================= -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Padding="24" Spacing="24">

                <!-- ================= HEADER ================= -->
                <Grid VerticalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="Invoice"
                                       FontSize="30"
                                       FontWeight="Bold"
                                       Foreground="#0F172A"/>

                            <!-- STATUS -->
                            <Border Background="#FEF3C7"
                                    CornerRadius="12"
                                    Padding="10,4"
                                    VerticalAlignment="Center">
                                <TextBlock Text="DRAFT"
                                           FontWeight="SemiBold"
                                           Foreground="#92400E"/>
                            </Border>
                        </StackPanel>

                        <TextBlock Text="Create &amp; manage invoices easily"
                                   Foreground="#64748B"
                                   FontSize="13"
                                   Margin="0,6,0,0"/>
                    </StackPanel>

                    <!-- GRAND TOTAL -->
                    <Border Grid.Column="1"
                            Background="#ECFDF5"
                            CornerRadius="14"
                            Padding="18,12"
                            VerticalAlignment="Center">
                        <TextBlock x:Name="GrandTotalText"
                                   Text="â‚¹ 0"
                                   FontSize="26"
                                   FontWeight="Bold"
                                   Foreground="#047857"/>
                    </Border>
                </Grid>

                <!-- ================= INVOICE INFO ================= -->
                <Border Background="White"
        CornerRadius="16"
        Padding="24">
                    <Grid ColumnSpacing="20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1.2*"/>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1.5*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Invoice No -->
                        <StackPanel>
                            <TextBlock Text="Invoice No" FontSize="14" FontWeight="SemiBold" Foreground="#0F172A"/>
                            <TextBox x:Name="InvoiceNoBox" Height="40" FontSize="14" Padding="6" IsReadOnly="True"/>
                        </StackPanel>

                        <!-- Invoice Date -->
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Invoice Date" FontSize="14" FontWeight="SemiBold" Foreground="#0F172A"/>
                            <CalendarDatePicker x:Name="InvoiceDatePicker" Height="40"/>
                        </StackPanel>

                        <!-- Customer + Quick Actions -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Customer" FontSize="14" FontWeight="SemiBold" Foreground="#0F172A"/>
                            <Grid ColumnSpacing="6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <ComboBox x:Name="CustomerComboBox" Height="40"/>

                                <!-- Quick Action Buttons -->
                                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8"
                            VerticalAlignment="Center" HorizontalAlignment="Right">

                                    <!-- Add Customer -->
                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Spacing="2">
                                        <Button Width="32" Height="32" Padding="0" FontSize="16" FontFamily="Segoe UI Emoji" Content="âž•"/>
                                        <TextBlock Text="Add" FontSize="10" HorizontalAlignment="Center"/>
                                    </StackPanel>

                                    <!-- Call Customer -->
                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Spacing="2">
                                        <Button Width="32" Height="32" Padding="0" FontSize="16" FontFamily="Segoe UI Emoji" Content="ðŸ“ž"/>
                                        <TextBlock Text="Call" FontSize="10" HorizontalAlignment="Center"/>
                                    </StackPanel>

                                    <!-- Message Customer -->
                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Spacing="2">
                                        <Button Width="32" Height="32" Padding="0" FontSize="16" FontFamily="Segoe UI Emoji" Content="ðŸ’¬"/>
                                        <TextBlock Text="Msg" FontSize="10" HorizontalAlignment="Center"/>
                                    </StackPanel>

                                </StackPanel>
                            </Grid>
                        </StackPanel>

                        <!-- Mobile -->
                        <StackPanel Grid.Column="3">
                            <TextBlock Text="Mobile" FontSize="14" FontWeight="SemiBold" Foreground="#0F172A"/>
                            <TextBox x:Name="MobileTextBox" Height="40" FontSize="14" Padding="6"/>
                        </StackPanel>
                    </Grid>
                </Border>


                <!-- ================= ADD ITEM ================= -->
                <Border Background="White"
        CornerRadius="16"
        Padding="20"
        Margin="0,0,0,16">

                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Item -->
                        <StackPanel>
                            <TextBlock Text="Item" FontSize="12" Margin="0,0,0,4"/>
                            <ComboBox x:Name="ItemSelect"
                      Height="40"
                      PlaceholderText="Select Item"/>
                        </StackPanel>

                        <!-- Qty -->
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Qty" FontSize="12" Margin="0,0,0,4"/>
                            <NumberBox x:Name="QtyBox"
                       Height="40"
                       Value="1"
                       SpinButtonPlacementMode="Inline"/>
                        </StackPanel>

                        <!-- Price -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Price" FontSize="12" Margin="0,0,0,4"/>
                            <NumberBox x:Name="PriceBox"
                       Height="40"
                       SpinButtonPlacementMode="Inline"/>
                        </StackPanel>

                        <!-- Discount -->
                        <StackPanel Grid.Column="3">
                            <TextBlock Text="Discount" FontSize="12" Margin="0,0,0,4"/>
                            <NumberBox x:Name="DiscountBox"
                       Height="40"
                       SpinButtonPlacementMode="Inline"/>
                        </StackPanel>

                        <!-- Add Button -->
                        <Button Grid.Column="4"
                Content="Add"
                Width="100"
                Height="40"
                Margin="0,18,0,0"
                Background="#2563EB"
                Foreground="White"
                CornerRadius="10"/>
                    </Grid>
                </Border>


                <!-- ================= ITEMS TABLE ================= -->
                <Border Background="White"
                        CornerRadius="16"
                        Padding="20">
                    <StackPanel Spacing="12">

                        <StackPanel>
                            <TextBlock Text="Items" FontSize="16" FontWeight="SemiBold" Foreground="#0F172A"/>
                            <TextBlock Text="Manage your invoice items and quantities" FontSize="13" Foreground="#64748B" Margin="0,4,0,0"/>
                        </StackPanel>

                        <!-- Table Header -->
                        <Grid Background="#F3F4F6" ColumnSpacing="12" Padding="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="3*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="Item" FontWeight="Bold"/>
                            <TextBlock Text="Qty" Grid.Column="1" FontWeight="Bold"/>
                            <TextBlock Text="Price" Grid.Column="2" FontWeight="Bold"/>
                            <TextBlock Text="Discount" Grid.Column="3" FontWeight="Bold"/>
                            <TextBlock Text="Total" Grid.Column="4" FontWeight="Bold"/>
                            <TextBlock Text="Remove" Grid.Column="5" FontWeight="Bold"/>
                        </Grid>

                        <Border Height="1" Background="#E5E7EB"/>

                        <ListView x:Name="InvoiceItemsList" Height="220"/>
                    </StackPanel>
                </Border>

                <!-- ================= SUMMARY + PAYMENT ================= -->
                <Grid ColumnSpacing="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- SUMMARY -->
                    <Border Background="White" CornerRadius="16" Padding="20">
                        <StackPanel Spacing="12">
                            <TextBlock Text="Summary" FontWeight="SemiBold"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Subtotal"/>
                                <TextBlock x:Name="SubTotalText" Text="â‚¹ 0" Grid.Column="1"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="CGST"/>
                                <TextBlock x:Name="CGSTText" Text="â‚¹ 0" Grid.Column="1"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="SGST"/>
                                <TextBlock x:Name="SGSTText" Text="â‚¹ 0" Grid.Column="1"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- PAYMENT -->
                    <Border Grid.Column="1" Background="White" CornerRadius="16" Padding="20">
                        <StackPanel Spacing="12">
                            <ComboBox Header="Payment Mode">
                                <ComboBoxItem Content="Cash"/>
                                <ComboBoxItem Content="UPI"/>
                                <ComboBoxItem Content="Card"/>
                            </ComboBox>

                            <NumberBox x:Name="PaidAmountBox" Header="Paid Amount" Value="0"/>

                            <Border Background="#FEE2E2" CornerRadius="10" Padding="10">
                                <TextBlock x:Name="DueAmountText" Text="DUE : â‚¹ 0" FontWeight="Bold" Foreground="#DC2626" HorizontalAlignment="Right"/>
                            </Border>
                        </StackPanel>
                    </Border>
                </Grid>
            </StackPanel>
        </ScrollViewer>

        <!-- ================= ACTION BAR ================= -->
        <Border Grid.Row="1"
                Background="White"
                Padding="14"
                BorderBrush="#E5E7EB"
                BorderThickness="1">
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Spacing="12">

                <Button Content="ðŸ–¨ Print Preview" Height="40" Padding="16,0"/>
                <Button Content="ðŸ“„ Export PDF" Height="40" Padding="16,0"/>
                <Button Content="ðŸ“¤ Share WhatsApp" Height="40" Background="#16A34A" Foreground="White" Padding="18,0" CornerRadius="10"/>
                <Button Content="Save Invoice" Height="40" Background="#2563EB" Foreground="White" Padding="18,0" CornerRadius="10"/>
            </StackPanel>
        </Border>

    </Grid>
</Page>
